source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/utils.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ingest.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ols_demo.R', echo=TRUE)
install.packages("glmnetUtils")
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ols_demo.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/fv_util.R', echo=TRUE)
install.packages("gam")
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/fv_util.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/utils.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ingest.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/constants.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ols_demo.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/fv_util.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ols_demo.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ingest.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/utils.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ingest.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/constants.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/ols_demo.R', echo=TRUE)
training_data
unique(training_data$county)
training_data$county
training_data$train
class(training_data)
training_data[1]
view(training_data[1])
View(training_data[1])
View(training_data[2])
unique(training_data[2]$`2020-08-31`$train$county)
count(unique(training_data[2]$`2020-08-31`$train$county))
nrow(unique(training_data[2]$`2020-08-31`$train$county))
length(unique(training_data[2]$`2020-08-31`$train$county))
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/utils.R', echo=TRUE)
source()
source("ingest.R")
source("constants.R")
source("utils.R")
source("fv_util.R")
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
training_data[1]$date
training_data[1][202"2020-08-30"]
training_data[1]
View(training_data[1])
Viwq(training_data[2])
View(training_data[2])
View(dev_data[1])
View(dev_data[2])
View(test_data[1])
View(test_data[2])
training_data = load_training_data()
dev_data = training_data[DATES_DEV]
test_data = training_data[DATES_HOLDOUT]
training_data[1]$`2020-08-30`$train
View(training_data[1]$`2020-08-30`$train)
View(training_data[1]$`2020-08-30`$dev)
View(dev_data[1]$`2020-08-30`$train)
View(dev_data[1]$`2020-08-30`$dev)
View(training_data[2]$`2020-08-31`$train)
View(training_data[2]$`2020-08-31`$dev)
View(test_data[1]$`2020-11-01`$train)
training_data
length(training_data)
unique(training_data)
training_data[2][1]
View(training_data[2][1])
View(training_data[1][1])
View(training_data[1][2])
View(training_data[1][1])
View(training_data[3][1])
names(dev_data)
names(dev_data)[1]
names(dev_data[1])
names(dev_data[1])
dev_data[1]
dev_data[1][1]
View(dev_data[1][1])
names(dev_data)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
View(grid_results)
dev_data[[1]][[1]]
View(dev_data[[1]][[1]])
View(grid_df)
View(grid_results)
paste0("response ~ s(date_idx, by=county, bs=","cr",
"+ ns(date_idx, df=", as.character(deg_free), ")")
paste0("response ~ s(date_idx, by=county, bs=","cr",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","cr","fx=T",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","``cr''","fx=T",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","``cr'',","fx=T",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","``cr'',","fx=T",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","``cr'', ","fx=T",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","'cr', ","fx=T",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","'cr', ","fx=T)",
"+ ns(date_idx, df=)")
paste0("response ~ s(date_idx, by=county, bs=","'cr', ","fx=T)",
"+ ns(date_idx, df=", as.character(deg_free), ")")
rm result_naive_ns
rm(result_naive_ns)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
View(extract_folds_inner)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
cat("response ~ s(date_idx, by=county, bs='cr', fx=T, df=",
as.character(deg_free), ")",
"+ ns(date_idx, df=", as.character(deg_free), ")")
deg_free<-1
cat("response ~ s(date_idx, by=county, bs='cr', fx=T, df=",
as.character(deg_free), ")",
"+ ns(date_idx, df=", as.character(deg_free), ")")
cat("response ~ s(date_idx, by=county, bs='cr', fx=T, df=",
as.character(deg_free),")",
"+ ns(date_idx, df=", as.character(deg_free),")")
cat("response ~ s(date_idx, by=county, bs='cr', fx=TRUE, df=",
as.character(deg_free),")",
"+ ns(date_idx, df=", as.character(deg_free),")")
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
rm(deg_free)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
grid_results = extract_folds_outer(result_county_spline, grid_df, yhat_cols = "yhat", collapse_func=score_loss) %>%
group_by(df) %>%
summarise(loss = mean(loss)) %>%
arrange(loss)
View(grid_results)
View(dev_data[[1]][[1]])
names(result_county_spline)
result_county_spline[1]
View(grid_df)
View(grid_results)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
class(dev_data[[1]][[1]]$date_idx)
class(dev_data[[1]][[1]]$county)
class(dev_data[[1]][[1]]$date)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
rm(mgcv)
remove.packages(mgcv)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
installed.packages(gam)
installed.packages()
install.packages("gam")
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
deg_free=1
paste0("response ~ mgcv::s(date_idx, by=county, bs='cr', fx=TRUE, df=",
as.character(deg_free),")",
"+ ns(date_idx, df=",as.character(deg_free),")")
rm(deg_free)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
deg_free=1
paste0("response ~ ns(date_idx, df=",as.character(deg_free),")",
"+mgcv::s(date_idx, by=county, bs='cr', fx=TRUE, df=",
as.character(deg_free),")"
)
as.formula(paste0("response ~ ns(date_idx, df=",as.character(deg_free),")",
"+mgcv::s(date_idx, by=county, bs='cr', fx=TRUE, df=",
as.character(deg_free),")"
))
as.formula(paste0("response ~ ns(date_idx, df=",as.character(deg_free),")",
"+mgcv::s(date_idx, by=county, bs='cr', fx=TRUE, df=",
as.character(deg_free),")"
))
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
source('~/Desktop/Winter Quarter 2021/STATS 315A/Homeworks/Stanford-STATS-315A/PS3/counties_interaction.R', echo=TRUE)
